<div class="step-content" [formGroup]="formGroup">
  <h2>Bildung</h2>

  <!-- School Education Card -->
  <div class="education-card">
    <div class="card-header">
      <h3>Schulbildung</h3>
    </div>

    <ion-item>
      <ion-label position="floating">Schultyp</ion-label>
      <ion-select formControlName="schoolType" placeholder="Schultyp auswählen">
        @for (type of schoolTypes; track type.value) {
          <ion-select-option [value]="type.value">
            {{ type.label }}
          </ion-select-option>
        }
      </ion-select>
    </ion-item>

    <ion-item button="true" id="school-start-trigger">
      <ion-label position="stacked">Startdatum</ion-label>
      <div class="date-value">
        {{ formatDate(formGroup.get("schoolStart")?.value) }}
      </div>
    </ion-item>

    <ion-item button="true" id="school-end-trigger">
      <ion-label position="stacked">Enddatum</ion-label>
      <div class="date-value">
        {{ formatDate(formGroup.get("schoolEnd")?.value) }}
      </div>
    </ion-item>
  </div>

  <!-- Higher Education Card -->
  <div class="education-card">
    <div class="card-header">
      <h3>Hochschulbildung</h3>
    </div>

    <ion-item>
      <ion-label position="floating">Abschluss</ion-label>
      <ion-select
        formControlName="higherEducation"
        placeholder="Abschluss auswählen"
      >
        @for (edu of higherEducationTypes; track edu.value) {
          <ion-select-option [value]="edu.value">
            {{ edu.label }}
          </ion-select-option>
        }
      </ion-select>
    </ion-item>

    <ion-item button="true" id="higher-start-trigger">
      <ion-label position="stacked">Startdatum</ion-label>
      <div class="date-value">
        {{ formatDate(formGroup.get("higherEducationStart")?.value) }}
      </div>
    </ion-item>

    <ion-item button="true" id="higher-end-trigger">
      <ion-label position="stacked">Enddatum</ion-label>
      <div class="date-value">
        {{ formatDate(formGroup.get("higherEducationEnd")?.value) }}
      </div>
    </ion-item>
  </div>
</div>

<!-- Date Picker Modals -->
<app-date-picker-modal
  triggerId="school-start-trigger"
  [value]="formGroup.get('schoolStart')?.value"
  (dateChange)="onDateChange('schoolStart', $event)"
/>

<app-date-picker-modal
  triggerId="school-end-trigger"
  [value]="formGroup.get('schoolEnd')?.value"
  (dateChange)="onDateChange('schoolEnd', $event)"
/>

<app-date-picker-modal
  triggerId="higher-start-trigger"
  [value]="formGroup.get('higherEducationStart')?.value"
  (dateChange)="onDateChange('higherEducationStart', $event)"
/>

<app-date-picker-modal
  triggerId="higher-end-trigger"
  [value]="formGroup.get('higherEducationEnd')?.value"
  (dateChange)="onDateChange('higherEducationEnd', $event)"
/>
