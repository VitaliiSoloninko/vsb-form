<ion-header>
  <ion-toolbar>
    <ion-title>{{ t().title }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="summary-container">
    <h1>{{ t().title }}</h1>
    <p class="subtitle">{{ t().title }}</p>

    @if (formData()) {
    <!-- Personal Information -->
    <div class="section">
      <h2>{{ t().personalInfo }}</h2>
      <div class="info-grid">
        <div class="info-item">
          <span class="label">{{ t().firstName }}:</span>
          <span class="value">{{ formData()!.personal.firstName }}</span>
        </div>
        <div class="info-item">
          <span class="label">{{ t().lastName }}:</span>
          <span class="value">{{ formData()!.personal.lastName }}</span>
        </div>
        <div class="info-item">
          <span class="label">{{ t().dateOfBirth }}:</span>
          <span class="value">{{ formData()!.personal.dateOfBirth }}</span>
        </div>
        <div class="info-item">
          <span class="label">{{ t().placeOfBirth }}:</span>
          <span class="value">{{ formData()!.personal.placeOfBirth }}</span>
        </div>
        <div class="info-item">
          <span class="label">{{ t().nationality }}:</span>
          <span class="value">{{ formData()!.personal.nationality }}</span>
        </div>
        <div class="info-item">
          <span class="label">{{ t().maritalStatus }}:</span>
          <span class="value">{{ formData()!.personal.maritalStatus }}</span>
        </div>
      </div>
    </div>

    <!-- Contact & Address -->
    <div class="section">
      <h2>{{ t().contactInfo }}</h2>
      <div class="info-grid">
        <div class="info-item">
          <span class="label">{{ t().phone }}:</span>
          <span class="value">{{ formData()!.contact.phone }}</span>
        </div>
        <div class="info-item">
          <span class="label">{{ t().email }}:</span>
          <span class="value">{{ formData()!.contact.email }}</span>
        </div>
        <div class="info-item">
          <span class="label">{{ t().street }}:</span>
          <span class="value">{{ formData()!.contact.street }}</span>
        </div>
        <div class="info-item">
          <span class="label">{{ t().houseNumber }}:</span>
          <span class="value">{{ formData()!.contact.houseNumber }}</span>
        </div>
        <div class="info-item">
          <span class="label">{{ t().postalCode }}:</span>
          <span class="value">{{ formData()!.contact.postalCode }}</span>
        </div>
        <div class="info-item">
          <span class="label">{{ t().city }}:</span>
          <span class="value">{{ formData()!.contact.city }}</span>
        </div>
      </div>
    </div>

    <!-- Languages -->
    <div class="section">
      <h2>{{ t().languageSkills }}</h2>
      <div class="info-grid">
        <div class="info-item">
          <span class="label">{{ t().german }}:</span>
          <span class="value"
            >{{ formData()!.languages.germanLevel || t().empty }}</span
          >
        </div>
        <div class="info-item">
          <span class="label">{{ t().english }}:</span>
          <span class="value"
            >{{ formData()!.languages.englishLevel || t().empty }}</span
          >
        </div>
        @if (formData()!.languages.additionalLanguages) {
        <div class="info-item full-width">
          <span class="label">{{ t().additionalLanguages }}:</span>
          <span class="value"
            >{{ formData()!.languages.additionalLanguages }}</span
          >
        </div>
        }
      </div>
    </div>

    <!-- Education -->
    <div class="section">
      <h2>{{ t().educationInfo }}</h2>

      <!-- School Education -->
      <div class="experience-card">
        <h3>{{ t().school }}</h3>
        <div class="experience-period">
          {{ formatDate(formData()!.education.schoolStart) }} - {{
          formatDate(formData()!.education.schoolEnd) }}
        </div>
        <div class="experience-responsibilities">
          <strong>{{ t().type }}:</strong>
          <p>{{ formData()!.education.schoolType }}</p>
        </div>
      </div>

      <!-- Higher Education -->
      @if (formData()!.education.higherEducation) {
      <div class="experience-card">
        <h3>{{ t().higherEd }}</h3>
        <div class="experience-period">
          {{ formatDate(formData()!.education.higherEducationStart) }} - {{
          formatDate(formData()!.education.higherEducationEnd) }}
        </div>
        <div class="experience-responsibilities">
          <strong>{{ t().degree }}:</strong>
          <p>{{ formData()!.education.higherEducation }}</p>
        </div>
      </div>
      }
    </div>

    <!-- Work Experience -->
    <div class="section">
      <h2>{{ t().workExperience }}</h2>
      @if (formData()!.workExperience && formData()!.workExperience.length > 0)
      { @for (experience of formData()!.workExperience; track $index) {
      <div class="experience-card">
        <h3>{{ experience.position }}</h3>
        <div class="experience-period">
          {{ formatDate(experience.start) }} - {{ formatDate(experience.end) }}
        </div>
        <div class="experience-responsibilities">
          <strong>{{ t().responsibilities }}:</strong>
          <p>{{ experience.responsibilities }}</p>
        </div>
      </div>
      } } @else {
      <p class="no-data">{{ t().empty }}</p>
      }
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <ion-button expand="block" fill="outline" (click)="backToForm()">
        {{ t().btnBack }}
      </ion-button>
      <ion-button expand="block" color="success" (click)="downloadPDF()">
        {{ t().btnCreatePDF }}
      </ion-button>
      <ion-button
        expand="block"
        color="danger"
        fill="outline"
        (click)="clearForm()"
      >
        {{ t().btnEdit }}
      </ion-button>
    </div>
    } @else {
    <!-- No data available -->
    <div class="no-data-container">
      <h2>{{ t().empty }}</h2>
      <p>{{ t().empty }}</p>
      <ion-button expand="block" (click)="backToForm()">
        {{ t().btnBack }}
      </ion-button>
    </div>
    }
  </div>
</ion-content>
